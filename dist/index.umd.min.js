!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("json2mq"),require("vue")):"function"==typeof define&&define.amd?define(["exports","json2mq","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["vue3-mq"]={},e.json2mq,e.vue)}(this,(function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(t);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p={xs:576,sm:768,md:992,lg:1200,xl:1400,xxl:1/0},d={mqAvailableBreakpoints:r.ref({}),currentBreakpoint:r.ref("")},m=r.readonly(d.mqAvailableBreakpoints),y=function(e){return d.currentBreakpoint.value=e},b=r.readonly(d.currentBreakpoint);function g(e){for(var t=h.length-1;t>=0;t--){var r=h[t],n=r.mql,a=r.cb;n.removeEventListener("change",a),h.splice(t,1)}var l;!function(e){for(var t in e){if(!["string","number"].includes(i(t))||!t)throw new Error("Invalid or missing breakpoint key");if("string"==typeof e[t]&&(e[t]=parseFloat(e[t].replace(/[^0-9]/g,""))),"number"!=typeof e[t]||e[t]<0)throw new Error("Invalid breakpoint value for "+t+". Please use a valid number.");if(!e[t])throw new Error("No valid breakpoint value for "+t+" was found")}}(e),l=e,d.mqAvailableBreakpoints.value=l;var f=function(e){var t=Object.keys(e),r=t.map((function(t){return e[t]})),n=[0].concat(c(r.slice(0,-1)));return n.reduce((function(e,r,i){var a=Object.assign({minWidth:r},i<t.length-1?{maxWidth:n[i+1]-1}:{}),l=o.default(a);return Object.assign(e,u({},t[i],l))}),{})}(e),s=function(e){!function(e,t){var r=window.matchMedia(e),n=function(e){e.matches&&t()};h.push({mql:r,cb:n}),r.addEventListener&&"function"==typeof r.addEventListener?r.addEventListener("change",n):r.addListener("change",n);n(r)}(f[e],(function(){y(e)}))};for(var v in f)s(v)}var h=[];function q(e){var t,r=e.mqProp,n=e.isMqPlus,o=void 0===n?{value:!1}:n,i=e.isMqMinus,u=void 0===i?{value:!1}:i,a=e.isMqRange,l=void 0===a?{value:!1}:a,c=Object.entries(m.value);if(0===c.length)return[];if(o.value)r=r.replace(/\+$/,"");else if(u.value)r=r.replace(/-$/,"");else if(l.value&&(!(r=r.split("-"))||2!==r.length))throw new Error("Invalid MQ range provided");if(l.value){var s=c.find((function(e){var t=f(e,2),n=t[0];t[1];return n==r[0].trim()}));if(!s||0===s.length)throw new Error("Range from breakpoint ("+r[0].trim()+") not found");var v=c.find((function(e){var t=f(e,2),n=t[0];t[1];return n==r[1].trim()}));if(!v||0===v.length)throw new Error("Range to breakpoint ("+r[1].trim()+") not found");if(s[1]>v[1]){var p=[v,s];s=p[0],v=p[1]}t=c.filter((function(e){var t=f(e,2),r=(t[0],t[1]);return r>=s[1]&&r<=v[1]}))}else{var d=c.find((function(e){var t=f(e,2),n=t[0];t[1];return n==r}));o.value?t=c.filter((function(e){var t=f(e,2);t[0];return t[1]>=d[1]})):u.value&&(t=c.filter((function(e){var t=f(e,2);t[0];return t[1]<=d[1]})))}return t.sort((function(e,t){return e[1]-t[1]})),t.map((function(e){return e[0]}))}var w={name:"MqLayout",props:{mq:{type:[String,Array]},tag:{type:String,default:"div"},group:{type:Boolean,default:!1}},setup:function(e,t){console.log("Running setup()");var n={name:"fade",mode:"out-in"},o=r.computed((function(){return Array.isArray(e.mq)})),u=r.computed((function(){return!o.value&&!0===/\+$/.test(e.mq)})),a=r.computed((function(){return!o.value&&!0===/-$/.test(e.mq)})),f=r.computed((function(){return!o.value&&!0===/^\w*-\w*/.test(e.mq)})),c=r.computed((function(){return o.value?e.mq:u.value||a.value||f.value?q({mqProp:e.mq,isMqPlus:u,isMqMinus:a,isMqRange:f}):[e.mq]})),s=r.computed((function(){return c.value.includes(b.value)})),v=function(n){var o=[],u=function(i){if(!e.group&&o.length>0)return{v:o};r.computed((function(){return function(e){var t=Array.isArray(e),n=!t.value&&!0===/\+$/.test(e),o=!t.value&&!0===/-$/.test(e),i=!t.value&&!0===/^\w*-\w*/.test(e);return r.computed((function(){return t?e:n||o||i?q({mqProp:e,isMqPlus:{value:n},isMqMinus:{value:o},isMqRange:{value:i}}):[e]})).value.includes(b.value)}(i.split(":")[0])})).value&&o.push(r.h(n||t.slots[i],{key:i},n?t.slots[i]():void 0))};for(var a in t.slots){var l=u(a);if("object"===i(l))return l.v}return o.length>0?o:void 0};return console.log(t.slots.default),t.slots.default?function(){return s.value?r.h(e.tag,{},t.slots.default()):void 0}:function(){var o=l(l({},n),t.attrs),i=e.group?r.TransitionGroup:r.Transition;return r.h(i,o,v(e.tag))}}},j={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,o=void 0===n?p:n,i=t.defaultBreakpoint,u=void 0===i?"sm":i,a=!1;y(u),e.provide("updateBreakpoints",g),e.provide("mq",r.readonly(b)),e.mixin({computed:{$mq:function(){return b.value}},mounted:function(){a||(g(o),a=!0)}}),e.config.globalProperties.$mqAvailableBreakpoints=o}};e.MqLayout=w,e.default=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
